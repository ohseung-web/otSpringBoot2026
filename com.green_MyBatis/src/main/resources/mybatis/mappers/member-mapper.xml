<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.green.member.mapper.MemberMapper">

	<!-- 2차 캐시 활성화 시킨다. -->
    <!--  <cache /> -->

		<!-- insert문이나, update문은 resultType를 적지 않는다. -->
		<insert id="insertMember" 
		  parameterType="MemberDTO">
		  INSERT INTO user_member(id,pw,mail,phone) VALUES(#{id},#{pw},#{mail},#{phone})
		</insert>
		
		<select id="isMember" parameterType="string" resultType="boolean">
		        SELECT COUNT(*) FROM user_member WHERE id = #{id}
		</select>
		
		<select id="allSelectMember" 
		 resultType="MemberDTO"
		>
		  SELECT * FROM user_member
		</select>
		
		<select id="oneSelectMember" 
		resultType="MemberDTO"
		parameterType="String"
		>
			SELECT * FROM user_member WHERE id=#{id}
		</select>
		
		<select id="getPass" resultType="String"
		parameterType="String"
		>
		SELECT pw FROM user_member WHERE id=#{id}
		</select>
		
		<delete id="deleteMember"
		parameterType="String"
		>
		DELETE FROM user_member WHERE id=#{id}
		</delete>
		
		<update id="updateMember"
		parameterType="MemberDTO"
		>
			UPDATE user_member SET mail=#{mail},phone=#{phone} WHERE id=#{id}
		</update>

</mapper>

